# 股票工具需求分析

## 文档信息
- **版本**: v1.0
- **创建日期**: 2026-01-28
- **最后更新**: 2026-01-30
- **状态**: 初稿

## 一、项目概述

### 1.1 项目目标
开发一个智能股票投资工具,为个人投资者提供实时行情、资讯提醒、AI预测和自动化交易等一体化服务。

### 1.2 目标用户
- 个人投资者
- 量化交易爱好者
- 需要辅助决策的股民

## 二、核心需求分析

根据初始需求,项目包含四大核心功能:
1. 实时股票信息查看(A股市场)
2. 金融市场事件提醒
3. AI预测与投资建议
4. 自动化交易系统

## 三、技术调研总结

### 3.1 数据来源方案

| 数据类型 | 推荐方案 | 特点 |
|---------|---------|------|
| A股实时行情 | eastmoney-go / Tushare / 自建爬虫 | Go原生库或HTTP接口 |
| 历史K线数据 | Tushare / AKShare (通过Python服务) | 数据完整,更新及时 |
| 财经新闻资讯 | 天聚数行API / 聚合数据 / 自建爬虫 | 实时推送,覆盖面广 |
| 宏观经济数据 | 东方财富 / Wind / Tushare | 权威可靠 |

### 3.2 AI预测技术方案

| 技术类型 | 应用场景 | 推荐方案 |
|---------|---------|--------------|
| 情感分析 | 舆情分析 | OpenAI/Claude API |
| 文本摘要 | 公告摘要 | OpenAI/Claude/文心一言 API |
| 投资建议 | 辅助决策 | GPT-4/Claude 3.5 Sonnet |
| 趋势预测 | 价格走势 | API + 技术指标综合分析 |
| 数据分析 | 模式识别 | 简单统计 + AI 辅助 |

### 3.3 量化交易框架

| 框架 | 语言 | 特点 | 适用场景 |
|-----|------|------|---------|
| 自研回测引擎 | Go | 高性能,与主系统集成 | 策略回测与模拟交易 |
| VNPy | Python | 功能完整,社区活跃 | 参考实现 |
| Qbot | Python | AI驱动,全流程支持 | AI策略参考 |
| Northstar | Java | 高性能,企业级 | 高频交易参考 |
| Hikyuu | C++/Python | 超快回测速度 | A股策略分析参考 |

## 四、开发阶段规划

### 第一阶段:MVP版本(2-3个月)
**优先级**:高
- ✅ 实时行情查询与展示
- ✅ K线图表与技术指标
- ✅ 自选股管理
- ✅ 基础财经新闻展示
- ✅ 简单技术指标分析

### 第二阶段:AI预测功能(2-3个月)
**优先级**:高
- ✅ 新闻情感分析
- ✅ 短期走势预测模型
- ✅ 基础投资建议生成
- ✅ 预测走势图可视化
- ✅ 事件日历与提醒

### 第三阶段:策略回测(2个月)
**优先级**:中
- ✅ 策略引擎开发
- ✅ 历史数据回测系统
- ✅ 回测报告生成
- ✅ 多策略比较

### 第四阶段:自动化交易(3-4个月)
**优先级**:中
- ✅ 模拟交易系统
- ✅ 资金管理模块
- ✅ 风控系统
- ✅ 策略自动执行

### 第五阶段:高级功能(持续迭代)
**优先级**:低
- ✅ 实盘交易接口
- ✅ 多市场支持(港股、美股)
- ✅ 高级AI模型优化
- ✅ 移动端APP

## 五、风险与挑战

### 5.1 技术风险
- **数据质量**:免费数据源可能存在延迟、错误
- **模型准确度**:股市预测本身具有高度不确定性
- **系统稳定性**:实时系统对稳定性要求高
- **AI API 依赖**:依赖第三方 AI 服务,存在可用性风险
  - 缓解措施:多模型备用、降级策略、本地缓存

### 5.2 法律风险
- **数据合规**:使用金融数据需遵守相关法规
- **投资建议**:需声明仅供参考,不构成投资建议
- **实盘交易**:需要券商授权,受监管限制

### 5.3 业务风险
- **用户期望管理**:AI预测不可能100%准确
- **市场竞争**:已有成熟产品(如同花顺、东方财富)
- **盈利模式**:个人开发者的可持续性问题

## 六、成本估算

### 6.1 开发成本
- **时间成本**:全职开发约9-12个月(分阶段)
- **学习成本**:量化交易、AI建模需要学习曲线

### 6.2 运营成本
- **数据费用**:
  - 免费数据源:0元
  - 付费数据源:500-5000元/月
- **服务器费用**:
  - 云服务器:200-1000元/月
  - 数据库存储:100-500元/月
- **AI API 费用**:
  - OpenAI GPT-4: ~$0.03-0.06/1K tokens(根据输入/输出)
  - Claude 3.5 Sonnet: ~$0.003-0.015/1K tokens
  - 文心一言/通义千问: ¥0.008-0.12/1K tokens(更优惠)
  - 预估成本:小规模(月活<100)50-200元/月,中规模 500-2000元/月
- **成本优化建议**:
  - 混合使用:简单任务用国内模型,复杂任务用 GPT-4
  - 缓存策略:相同请求使用缓存结果,减少 API 调用
  - 批量处理:积累一定量数据后批量分析
  - 免费额度:充分利用各厂商的免费额度

## 七、成功指标

### 7.1 功能指标
- 数据更新延迟 < 3秒
- 预测准确率 > 55%(方向准确率)
- 系统可用性 > 99%
- 回测速度:10年数据 < 5分钟

### 7.2 用户指标
- 日活跃用户数
- 平均使用时长
- 功能使用率分布
- 用户满意度

## 八、参考资源

### 8.1 开源项目
- [VNPy](https://github.com/vnpy/vnpy) - 量化交易框架
- [Qbot](https://github.com/UFund-Me/Qbot) - AI量化平台
- [AKShare](https://github.com/akfamily/akshare) - 财经数据接口
- [Tushare](https://tushare.org/) - 财经数据接口
- [Stock-Prediction-Models](https://github.com/huseinzol05/Stock-Prediction-Models) - 股票预测模型

### 8.2 学习资源
- 《量化投资:策略与技术》
- 《Python金融大数据分析》
- 《机器学习与量化投资》
- 同花顺、东方财富开放平台文档

### 8.3 数据源
- AKShare:https://github.com/akfamily/akshare
- Tushare:https://tushare.org/
- 天聚数行API:https://www.tianapi.com/
- 东方财富API:https://data.eastmoney.com/

---

## 版本历史

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|----------|------|
| v1.0 | 2026-01-28 | 初始版本 | - |
| v1.0 | 2026-01-30 | 从原始文档拆分,独立成需求分析文档 | - |

## 相关文档
- [架构设计 v1.0](架构设计_v1.0.md) - 系统架构设计
- [初始需求](初始需求.md) - 项目初始需求文档
